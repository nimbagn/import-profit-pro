{% extends "base_modern_complete.html" %}
{% block title %}{% if category %}Modifier{% else %}Créer{% endif %} Catégorie - Import Profit Pro{% endblock %}

{% block extra_css %}
<style>
  .main-content {
    width: 100% !important;
    max-width: 100% !important;
    padding: 0 !important;
    margin-left: 280px !important;
    margin-top: 70px !important;
  }
  
  .page-container {
    width: 100%;
    min-height: calc(100vh - 70px);
    padding: 0;
    background: var(--bg-secondary);
    margin: 0;
  }
  
  .page-header-hl {
    margin: 0 var(--space-xl) var(--space-xl) var(--space-xl);
    padding-top: var(--space-xl);
    width: calc(100% - 2 * var(--space-xl));
  }
  
  .card-hl {
    margin: 0 var(--space-xl) var(--space-xl) var(--space-xl);
    width: calc(100% - 2 * var(--space-xl));
    max-width: 600px;
  }
  
  .form-group-hl {
    margin-bottom: var(--space-lg);
  }
  
  .form-label-hl {
    display: block;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--space-sm);
  }
  
  .form-input-hl {
    width: 100%;
    padding: var(--space-md);
    border: 1px solid var(--gray-300);
    border-radius: var(--radius-md);
    font-size: 1rem;
    transition: var(--transition-normal);
  }
  
  .form-input-hl:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(0, 56, 101, 0.1);
  }
  
  .help-text {
    font-size: 0.875rem;
    color: var(--text-muted);
    margin-top: var(--space-xs);
  }
</style>
{% endblock %}

{% block content %}
<div class="page-container">
  <div class="page-header-hl">
    <h1 class="page-title-hl">
      <i class="fas fa-folder me-2"></i>
      {% if category %}Modifier{% else %}Créer{% endif %} une Catégorie
    </h1>
    <a href="{{ url_for('categories_list') }}" class="btn-hl btn-hl-secondary">
      <i class="fas fa-arrow-left me-2"></i>
      Retour
    </a>
  </div>

  <div class="card-hl">
    <form method="POST" action="{% if category %}{{ url_for('category_edit', id=category.id) }}{% else %}{{ url_for('category_new') }}{% endif %}">
      <div class="form-group-hl">
        <label class="form-label-hl" for="name">
          <i class="fas fa-tag me-2"></i>
          Nom de la catégorie
        </label>
        <input type="text" 
               id="name" 
               name="name" 
               class="form-input-hl" 
               value="{% if category %}{{ category.name }}{% endif %}" 
               placeholder="Ex: Alimentaire, Entretien, Électronique..." 
               required 
               autofocus>
        <div class="help-text">
          Le nom de la catégorie doit être unique et descriptif
        </div>
      </div>

      <div style="display: flex; gap: var(--space-md); margin-top: var(--space-xl);">
        <button type="submit" class="btn-hl btn-hl-primary">
          <i class="fas fa-save me-2"></i>
          {% if category %}Modifier{% else %}Créer{% endif %} la Catégorie
        </button>
        <a href="{{ url_for('categories_list') }}" class="btn-hl btn-hl-secondary">
          <i class="fas fa-times me-2"></i>
          Annuler
        </a>
      </div>
    </form>
  </div>
</div>
{% endblock %}

